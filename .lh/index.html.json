{
    "sourceFile": "index.html",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1770234794770,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1770234794770,
            "name": "Commit-0",
            "content": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Samsung Advisor</title>\n    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\n    <style>\n        body { background-color: #f4f6f9; font-family: 'Segoe UI', sans-serif; min-height: 100vh; display: flex; align-items: center; justify-content: center; }\n        .card { width: 100%; max-width: 850px; padding: 40px; border-radius: 20px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); border: none; background: white; }\n        .btn-primary { background-color: #1456cc; border: none; padding: 12px; font-weight: 600; transition: 0.3s; }\n        .btn-primary:hover { background-color: #0f44a3; }\n        .table th { background-color: #f1f3f5; font-size: 0.9rem; color: #495057; }\n        .search-box { border-radius: 10px; padding: 12px; border: 2px solid #e9ecef; }\n        .search-box:focus { border-color: #1456cc; box-shadow: none; }\n    </style>\n</head>\n<body>\n\n    <div class=\"card\">\n        <div class=\"text-center mb-5\">\n            <h2 class=\"fw-bold mb-2\">üì± Samsung Advisor</h2>\n            <p class=\"text-muted\">Ask about any Galaxy phone (e.g., Samsung S23)</p>\n        </div>\n        \n        <div class=\"mb-4\">\n            <input type=\"text\" id=\"question\" class=\"form-control search-box mb-3\" placeholder=\"Samsung S23 vs Samsung S24\" onkeypress=\"handleEnter(event)\">\n            <button class=\"btn btn-primary w-100 rounded-3\" onclick=\"askQuestion()\">Get Details</button>\n        </div>\n\n        <div id=\"loading\" class=\"text-center py-4\" style=\"display: none;\">\n            <div class=\"spinner-border text-primary\" role=\"status\"></div>\n            <p class=\"mt-2 text-muted small\">Searching database & web...</p>\n        </div>\n\n        <div id=\"result\" class=\"mt-4\"></div>\n    </div>\n\n    <script>\n        function handleEnter(e) {\n            if (e.key === \"Enter\") askQuestion();\n        }\n\n        async function askQuestion() {\n            const question = document.getElementById(\"question\").value.trim();\n            const resultDiv = document.getElementById(\"result\");\n            const loadingDiv = document.getElementById(\"loading\");\n\n            if (!question) return;\n\n            resultDiv.innerHTML = \"\";\n            loadingDiv.style.display = \"block\";\n\n            try {\n                // IMPORTANT: Relative path used here for deployment\n                const response = await fetch(`/ask?question=${encodeURIComponent(question)}`, {\n                    method: \"POST\"\n                });\n\n                if (!response.ok) {\n                    throw new Error(`Server error: ${response.status}`);\n                }\n\n                const data = await response.json();\n                loadingDiv.style.display = \"none\";\n\n                // Scenario 1: Comparison\n                if (data.mode === \"comparison\") {\n                    const p1 = data.phone1;\n                    const p2 = data.phone2;\n                    \n                    resultDiv.innerHTML = `\n                        <div class=\"table-responsive\">\n                            <h5 class=\"text-center mb-4 fw-bold text-dark\">Comparison Table</h5>\n                            <table class=\"table table-bordered text-center align-middle\">\n                                <thead class=\"table-light\">\n                                    <tr>\n                                        <th style=\"width: 20%\">Feature</th>\n                                        <th style=\"width: 40%\" class=\"text-primary\">${p1.model || \"Phone 1\"}</th>\n                                        <th style=\"width: 40%\" class=\"text-primary\">${p2.model || \"Phone 2\"}</th>\n                                    </tr>\n                                </thead>\n                                <tbody>\n                                    ${generateRow(\"Release\", p1.release_date, p2.release_date)}\n                                    ${generateRow(\"Display\", p1.display, p2.display)}\n                                    ${generateRow(\"Battery\", p1.battery, p2.battery)}\n                                    ${generateRow(\"Camera\", p1.camera, p2.camera)}\n                                    ${generateRow(\"RAM\", p1.ram, p2.ram)}\n                                    ${generateRow(\"Storage\", p1.storage, p2.storage)}\n                                    ${generateRow(\"Price\", \"$\" + p1.price, \"$\" + p2.price)}\n                                </tbody>\n                            </table>\n                        </div>`;\n                }\n                \n                // Scenario 2: Single Phone\n                else if (data.mode === \"single\") {\n                    const p = data.data;\n                    resultDiv.innerHTML = `\n                        <div class=\"p-3 border rounded bg-light\">\n                            <h4 class=\"text-center text-primary fw-bold mb-3\">${p.model}</h4>\n                            <table class=\"table table-striped mb-0\">\n                                <tbody>\n                                    <tr><th>üìÖ Release</th><td>${p.release_date}</td></tr>\n                                    <tr><th>üì± Display</th><td>${p.display}</td></tr>\n                                    <tr><th>üîã Battery</th><td>${p.battery}</td></tr>\n                                    <tr><th>üì∏ Camera</th><td>${p.camera}</td></tr>\n                                    <tr><th>üíæ RAM</th><td>${p.ram}</td></tr>\n                                    <tr><th>üíΩ Storage</th><td>${p.storage}</td></tr>\n                                    <tr><th>üí∞ Price</th><td>$${p.price}</td></tr>\n                                </tbody>\n                            </table>\n                        </div>`;\n                } \n                \n                // Scenario 3: Not Found\n                else {\n                    resultDiv.innerHTML = `\n                        <div class=\"alert alert-warning text-center\" role=\"alert\">\n                            ‚ö†Ô∏è No data found for \"${question}\". Try another model.\n                        </div>`;\n                }\n\n            } catch (error) {\n                loadingDiv.style.display = \"none\";\n                resultDiv.innerHTML = `\n                    <div class=\"alert alert-danger text-center\" role=\"alert\">\n                        Error connecting to server. Make sure backend is running!\n                    </div>`;\n                console.error(error);\n            }\n        }\n\n        function generateRow(label, val1, val2) {\n            val1 = val1 || \"-\";\n            val2 = val2 || \"-\";\n            return `\n                <tr>\n                    <td class=\"fw-bold text-muted small\">${label}</td>\n                    <td>${val1}</td>\n                    <td>${val2}</td>\n                </tr>\n            `;\n        }\n    </script>\n</body>\n</html>"
        }
    ]
}